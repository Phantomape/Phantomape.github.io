<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Hexo</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hexo"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hexo"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Hexo"><meta property="og:url" content="http://example.com/"><meta property="og:site_name" content="Hexo"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://example.com/img/og_image.png"><meta property="article:author" content="Xucheng Chen"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://example.com/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com"},"headline":"Hexo","image":["http://example.com/img/og_image.png"],"author":{"@type":"Person","name":"Xucheng Chen"},"publisher":{"@type":"Organization","name":"Hexo","logo":{"@type":"ImageObject","url":"http://example.com/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-06-12T12:48:04.000Z" title="2018/6/12 20:48:04">2018-06-12</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Operating-System/">Operating System</a></span><span class="level-item">3 minutes read (About 520 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/12/Memory%20Management/">Virtual Memory(Draft)</a></h1><div class="content"><h3 id="Limitations-of-Prvious-Memory-Management-Techniques"><a href="#Limitations-of-Prvious-Memory-Management-Techniques" class="headerlink" title="Limitations of Prvious Memory Management Techniques"></a>Limitations of Prvious Memory Management Techniques</h3><h3 id="Introduction-to-Virtual-Memory"><a href="#Introduction-to-Virtual-Memory" class="headerlink" title="Introduction to Virtual Memory"></a>Introduction to Virtual Memory</h3><p>The basic idea is that each program has its own address space, which would be broken up into chunks called pages. In other words, a page is just a contiguous range of addresses that can be mapped onto physical memory. But not all pages have to be in memory at the same time</p>
<h3 id="Paging"><a href="#Paging" class="headerlink" title="Paging"></a>Paging</h3><p>pages are the the fixed-size unit of the virtual address space, and their corresponding units in the physical memory are called page frames. Normally, the size is 4KB, but larger page like 2MB, 1GB do exists. Transfers between RAM and disk are always in whole pages. When an instruction is executed, say</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MOV REG, 0</span><br></pre></td></tr></table></figure>
<p>the address 0, which is genereated by user application would be sent to Memory Management Unit(MMU), which would map it into real address in RAM. The mapping that MMU uses is stored in the page table. Once the instruction references an unmapped address, the MMU notices that and causes the CPU to trap to the operating system. This trap is called a page fault. The operating system picks a little-used page frame and writes its contents back to the disk (if it is not already there). It then fetches (also from the disk) the page that was just referenced into the page frame just freed, changes the map, and restarts the trapped instruction</p>
<h3 id="Page-Table-and-Translation-Lookaside-Buffers"><a href="#Page-Table-and-Translation-Lookaside-Buffers" class="headerlink" title="Page Table and Translation Lookaside Buffers"></a>Page Table and Translation Lookaside Buffers</h3><p>Conside a 1-byte instruction that copies one register to another. In the absence of paging, this instruction makes only one memory reference, to fetch the instruction. With paging, at least one additional memory reference will be needed, to access the page<br>table. Having to make two memory references per memory reference reduces performance by half.</p>
<p>The solution to the problem is to equip computers with a small hardware for mapping addresses without going through the page table, which is based on the assumption that most programs tend to make a large number of references to a small number of pages. This device is called Translation Lookaside Buffer(TLB) or associative memory. </p>
<p>Normally, TLB is inside MMU and it can check for address tuples in parallel</p>
<h3 id="Page-Replacement-Algorithm"><a href="#Page-Replacement-Algorithm" class="headerlink" title="Page Replacement Algorithm"></a>Page Replacement Algorithm</h3><ul>
<li>NRU(Not Recently Used):<ul>
<li>Easy to understand</li>
<li>Moderately efficient to implement</li>
<li>Adequate performance</li>
</ul>
</li>
<li>FIFO(First-In, First-Out):<ul>
<li>Rarely used</li>
</ul>
</li>
<li>Second-Chance:<ul>
<li>Degenerate into FIFO when all pages have been referenced</li>
</ul>
</li>
<li>Clock<ul>
<li>Similar to Second-Chance, only in this case the list is circular</li>
</ul>
</li>
<li>LRU(Least Recently Used):<ul>
<li>Very expensive</li>
<li>An ordered linked list of all pages in memory</li>
</ul>
</li>
<li>NFU(Not Frequently Used):<ul>
<li>One page heavily used may outweigh other useful pages</li>
</ul>
</li>
<li>Aging<ul>
<li>Figure out which page is referenced last if they both are used with the same frequency</li>
</ul>
</li>
<li>The Working Set:<ul>
<li>Keep track of each process’s working set of pages and make sure it is in memory before running</li>
<li>Most programs randomly access a small number of pages, but the working set of pages changes slowly in time</li>
<li>Never used slide window of memory references due to performance issues, use slide window of time</li>
<li>Expensive</li>
</ul>
</li>
<li>WSClock<ul>
<li>Widely used in practice</li>
<li>Efficient</li>
</ul>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-06-11T08:07:32.000Z" title="2018/6/11 16:07:32">2018-06-11</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Mathemtatics/">Mathemtatics</a></span><span class="level-item">a few seconds read (About 21 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/11/Reproducing%20Kernel%20Hilbert%20Space/">Reproducing Kernel Hilbert Space</a></h1><div class="content"><p>Before we get into the magical term reproducing kernel Hilbert Space(RKHS), there are several term we need to know.</p>
<h2 id="Fields"><a href="#Fields" class="headerlink" title="Fields"></a>Fields</h2></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-06-07T09:04:32.000Z" title="2018/6/7 17:04:32">2018-06-07</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Operating-System/">Operating System</a></span><span class="level-item">2 minutes read (About 227 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/07/Processes%20and%20Threads/">Processes and Threads</a></h1><div class="content"><h2 id="Process"><a href="#Process" class="headerlink" title="Process"></a>Process</h2><p>In UNIX, there is only one system call to create a new process: fork . This call<br>creates an exact clone of the calling process. After the fork , the two processes, the<br>parent and the child, have the same memory image, the same environment strings,<br>and the same open files.</p>
<p>In UNIX, a process and all of its children and further descendants together<br>form a process group. When a user sends a signal from the keyboard, the signal is<br>delivered to all members of the process group currently associated with the<br>keyboard</p>
<p>In Unix, all the processes in the whole system be-<br>long to a single tree, with init at the root. In contrast, Windows has no concept of a process hierarchy. All processes are<br>equal.</p>
<h2 id="Thread"><a href="#Thread" class="headerlink" title="Thread"></a>Thread</h2><p>Reasons for having threads:</p>
<ul>
<li>in many<br>applications, multiple activities are going on at once. Some of these may block<br>from time to time. By decomposing such an application into multiple sequential<br>threads that run in quasi-parallel, the programming model becomes simpler.(It is very verbose!)</li>
<li>they are lighter weight than<br>processes, they are easier (i.e., faster) to create and destroy than processes.</li>
<li>Threads<br>yield no performance gain when all of them are CPU bound, but when there is sub-<br>stantial computing and also substantial I&#x2F;O, having threads allows these activities<br>to overlap, thus speeding up the application.</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-05-26T13:15:05.000Z" title="2018/5/26 21:15:05">2018-05-26</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a></span><span class="level-item">3 minutes read (About 490 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/05/26/GIL/">Global Interpreter Lock(GIL)</a></h1><div class="content"><p>Python is a very handy tool in terms of web development, machine learning and many other areas; however, it is also well-known for its poor performance in parallell computing due to global interpreter lock(GIL), which only exists in Cython. As I see it, its use of GIL doesn’t bother me a lot, but it is still very intriguing and worth some time to investigate why lies beneath the GIL. I came across this <a target="_blank" rel="noopener" href="http://www.dabeaz.com/python/GIL.pdf">slide</a> on the train to Cupertino. </p>
<h2 id="Performance-Experience"><a href="#Performance-Experience" class="headerlink" title="Performance Experience"></a>Performance Experience</h2><p>Let’s consider a simple function</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def count(n):    </span><br><span class="line">	while n &gt; 0:        </span><br><span class="line">		n -= 1</span><br></pre></td></tr></table></figure>
<p>compare the result of running it with and without threads. It turns out that the one with threads are far more slower than the other one. The result is based on a multi-core CPU and it you disable one of the CPU cores, the performance for the threaded program becomes slightly better.</p>
<h2 id="Thread-Creation"><a href="#Thread-Creation" class="headerlink" title="Thread Creation"></a>Thread Creation</h2><p>When you create a thread, python would create a small data structure containing some interpreter state and fires off a thread and call the function PyEval_CallObject.</p>
<h2 id="Thread-Execution"><a href="#Thread-Execution" class="headerlink" title="Thread Execution"></a>Thread Execution</h2><p>The interpreter has a global variable that points to the thread state structure of the current thread. So in conclusion, only one thread can execute in the interpreter at a time.</p>
<h2 id="GIL-Behavior"><a href="#GIL-Behavior" class="headerlink" title="GIL Behavior"></a>GIL Behavior</h2><p>Threads hold the GIL when running; however, they would relaese it when blocked for I&#x2F;O. When it deals with CPU-bound threads like our function, the interpreter periodically performs a “check” every 100 interpreter “ticks” by default. So what happens during the periodic check? There are many two things:</p>
<ol>
<li>In the main thread only, signal handlers will execute if there are any pending signals (more shortly) </li>
<li>Release and reacquire the GIL<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// ceval.c</span><br><span class="line">if (--_Py_Ticker &lt; 0) &#123;</span><br><span class="line">    if (*next_instr == SETUP_FINALLY) &#123;</span><br><span class="line">        /* Make the last opcode before a try: finally: block uninterruptible. */</span><br><span class="line">        goto fast_next_opcode;</span><br><span class="line">    &#125;</span><br><span class="line">    _Py_Ticker = _Py_CheckInterval;</span><br><span class="line">    tstate-&gt;tick_counter++;</span><br><span class="line">    ....... /*for pending*/</span><br><span class="line">&#125;</span><br><span class="line">if (interpreter_lock) &#123;</span><br><span class="line">    /* Give another thread a chance */</span><br><span class="line"></span><br><span class="line">    if (PyThreadState_Swap(NULL) != tstate)</span><br><span class="line">        Py_FatalError(&quot;ceval: tstate mix-up&quot;);</span><br><span class="line">    PyThread_release_lock(interpreter_lock);</span><br><span class="line"></span><br><span class="line">    /* Other threads may run now */</span><br><span class="line"></span><br><span class="line">    PyThread_acquire_lock(interpreter_lock, 1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
If a signal arrives, the interpreter runs the “check” after every tick until the main thread runs. Since signal handlers can only run in the main thread, the interpreter quickly acquires&#x2F;releases the GIL after every tick until it gets scheduled, which is why it is that slow in threaded program. This is partly why signals get so weird (the interpreter has no control over scheduling so it just attempts to thread switch as fast as possible with the hope that main will run).</li>
</ol>
<h2 id="Priority-Inversion-in-Multicore-Processor"><a href="#Priority-Inversion-in-Multicore-Processor" class="headerlink" title="Priority Inversion in Multicore Processor"></a>Priority Inversion in Multicore Processor</h2><p>A CPU-bound thread (low priority) can be blocking the execution of an I&#x2F;O-bound thread (high priority). It occurs because the I&#x2F;O thread can’t wake up fast enough to acquire the GIL before the CPU-bound thread reacquires it.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-05-24T15:35:04.000Z" title="2018/5/24 23:35:04">2018-05-24</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Frontend/">Frontend</a></span><span class="level-item">10 minutes read (About 1445 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/05/24/Lazy%20Loading/">Lazy Loading</a></h1><div class="content"><p>I came across lazy loading while building a new feature for our company’s new website. In our page, we have tons of images to load, which is very costly and exerts a very negative user experience. Thus, we try to use lazy loading to improve the speed of loading the page.<br>To build a twittmap, we need to utilize the twitter API. Here, I chose twitter4j, which is an unofficial Java library for the Twitter API. With Twitter4J, you can easily integrate your Java application with the Twitter service. There are some tutorials here: <a target="_blank" rel="noopener" href="https://xmeng.wordpress.com/2011/07/10/how-to-handle-sign-in-with-twitter-using-twitter4j/" title="How to sign in with twitter using twitter4j">How to “Sign in with Twitter” using twitter4j</a>.<br>##	Register twitter app<br>Click this <a target="_blank" rel="noopener" href="https://dev.twitter.com/apps">link</a>and fill out the following form, it should be fine. Just remember to grant your app access for read and write.<br>##	Include twitter4j<br>For those who are not familiar with java, it would be a painful process to learn how use new tools at first(I like VS better, lol). Don’t worry, just follow the steps below. </p>
<ol>
<li>Download twitter4j from <a target="_blank" rel="noopener" href="http://twitter4j.org/en/">here</a>.</li>
<li>Unzip it.</li>
<li>After you create a java project, Right-click on your Java project and Select Properties.</li>
<li>Choose Java Build Path and select the third tab, Libraries.</li>
<li>Click add external library and add twitter4j-core-4.0.4.jar.</li>
</ol>
<h2 id="Begin-programming"><a href="#Begin-programming" class="headerlink" title="Begin programming"></a>Begin programming</h2><p>A lot of examples are available. Here is the sample code used in tutorial mentioned above (Using eclipse).</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">package com.example.test;</span><br><span class="line"></span><br><span class="line">import twitter4j.Status;</span><br><span class="line">import twitter4j.Twitter;</span><br><span class="line">import twitter4j.TwitterException;</span><br><span class="line">import twitter4j.TwitterFactory;</span><br><span class="line">import twitter4j.auth.AccessToken;</span><br><span class="line">import twitter4j.auth.RequestToken;</span><br><span class="line">import twitter4j.conf.ConfigurationBuilder;</span><br><span class="line">import twitter4j.conf.Configuration;</span><br><span class="line"> </span><br><span class="line">import java.io.BufferedReader;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line">public class FirstClass &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		String testStatus=&quot;Hello from twitter4j&quot;;</span><br><span class="line">		 </span><br><span class="line">        ConfigurationBuilder cb = new ConfigurationBuilder();</span><br><span class="line">         </span><br><span class="line">        //the following is set without accesstoken- desktop client</span><br><span class="line">        cb.setDebugEnabled(true)</span><br><span class="line">        	.setOAuthConsumerKey(&quot;CONSUMER-KEY&quot;)</span><br><span class="line">        	.setOAuthConsumerSecret(&quot;CONSUMER-SECRET&quot;);</span><br><span class="line">		try&#123;</span><br><span class="line">			TwitterFactory tf = new TwitterFactory(cb.build());</span><br><span class="line">            Twitter twitter = tf.getInstance();</span><br><span class="line">			</span><br><span class="line">			try&#123;</span><br><span class="line">				RequestToken requestToken = twitter.getOAuthRequestToken();</span><br><span class="line">                System.out.println(&quot;Got request token.&quot;);</span><br><span class="line">                System.out.println(&quot;Request token: &quot; + requestToken.getToken());</span><br><span class="line">                System.out.println(&quot;Request token secret: &quot; + requestToken.getTokenSecret());</span><br><span class="line">                AccessToken accessToken = null;</span><br><span class="line">                </span><br><span class="line">                BufferedReader br = new BufferedReader(new InputStreamReader(System.in));</span><br><span class="line">                while(accessToken == null)&#123;</span><br><span class="line">                	System.out.println(&quot;Open the following URL and grant access to your account:&quot;);</span><br><span class="line">                    System.out.println(requestToken.getAuthorizationURL());</span><br><span class="line">                    System.out.print(&quot;Enter the PIN(if available) and hit enter after you granted access.[PIN]:&quot;);</span><br><span class="line">                    String pin = br.readLine();</span><br><span class="line">                    try &#123;</span><br><span class="line">                        if (pin.length() &gt; 0) &#123;</span><br><span class="line">                            accessToken = twitter.getOAuthAccessToken(requestToken, pin);</span><br><span class="line">                        &#125; else &#123;</span><br><span class="line">                            accessToken = twitter.getOAuthAccessToken(requestToken);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; catch (TwitterException te) &#123;</span><br><span class="line">                        if (401 == te.getStatusCode()) &#123;</span><br><span class="line">                            System.out.println(&quot;Unable to get the access token.&quot;);</span><br><span class="line">                        &#125; else &#123;</span><br><span class="line">                            te.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(&quot;Got access token.&quot;);</span><br><span class="line">                System.out.println(&quot;Access token: &quot; + accessToken.getToken());</span><br><span class="line">                System.out.println(&quot;Access token secret: &quot; + accessToken.getTokenSecret());</span><br><span class="line">			&#125; catch(IllegalStateException ie)&#123;</span><br><span class="line">				if (!twitter.getAuthorization().isEnabled()) &#123;</span><br><span class="line">                    System.out.println(&quot;OAuth consumer key/secret is not set.&quot;);</span><br><span class="line">                    System.exit(-1);</span><br><span class="line">                &#125;</span><br><span class="line">			&#125;</span><br><span class="line">			Status status = twitter.updateStatus(testStatus);</span><br><span class="line">	        System.out.println(&quot;Successfully updated the status to [&quot; + status.getText() + &quot;].&quot;);</span><br><span class="line">	        System.exit(0);</span><br><span class="line">		&#125; catch (TwitterException te) &#123;</span><br><span class="line">            te.printStackTrace();</span><br><span class="line">            System.out.println(&quot;Failed to get timeline: &quot; + te.getMessage());</span><br><span class="line">            System.exit(-1);</span><br><span class="line">        &#125; catch (IOException ioe) &#123;</span><br><span class="line">            ioe.printStackTrace();</span><br><span class="line">            System.out.println(&quot;Failed to read the system input.&quot;);</span><br><span class="line">            System.exit(-1);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>This piece of code can post a twitter from your account, after running this u can see the following instructions.<br><img src="http://img.blog.csdn.net/20161012030205951" alt="Instructions"><br>Just click into the url it mentioned and grant access to your app, and then type in the PIN code that it gives u. After that, u can check ur twitter now.<br><img src="http://img.blog.csdn.net/20161012030038935" alt="Result"><br>##	Use streaming API<br>Here is the code.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">package com.example.test;</span><br><span class="line"></span><br><span class="line">import twitter4j.*;</span><br><span class="line">import twitter4j.conf.ConfigurationBuilder;</span><br><span class="line"></span><br><span class="line">public class PrintSampleStream &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws TwitterException&#123;</span><br><span class="line">		 ConfigurationBuilder cb = new ConfigurationBuilder();</span><br><span class="line">         </span><br><span class="line">	        //the following is set without accesstoken- desktop client</span><br><span class="line">	        cb.setDebugEnabled(true)</span><br><span class="line">	        	.setOAuthConsumerKey(&quot;I won&#x27;t tell u&quot;)</span><br><span class="line">	        	.setOAuthConsumerSecret(&quot;what my key and secret is&quot;)</span><br><span class="line">	        	.setOAuthAccessToken(&quot;LOL&quot;)</span><br><span class="line">	        	.setOAuthAccessTokenSecret(&quot;:)&quot;);</span><br><span class="line">		</span><br><span class="line">		TwitterStream twitterStream = new TwitterStreamFactory(cb.build()).getInstance();</span><br><span class="line">	    StatusListener listener = new StatusListener() &#123;</span><br><span class="line">	    	 public void onStatus(Status status) &#123;</span><br><span class="line">	             System.out.println(status.getUser().getName() + &quot; : &quot; + status.getText());</span><br><span class="line">	         &#125;</span><br><span class="line">	         public void onDeletionNotice(StatusDeletionNotice statusDeletionNotice) &#123;&#125;</span><br><span class="line">	         public void onTrackLimitationNotice(int numberOfLimitedStatuses) &#123;&#125;</span><br><span class="line">	         public void onException(Exception ex)&#123;</span><br><span class="line">	             ex.printStackTrace();</span><br><span class="line">	         &#125;</span><br><span class="line">			@Override</span><br><span class="line">			public void onScrubGeo(long arg0, long arg1) &#123;</span><br><span class="line">				// TODO Auto-generated method stub</span><br><span class="line">			&#125;</span><br><span class="line">			@Override</span><br><span class="line">			public void onStallWarning(StallWarning arg0) &#123;</span><br><span class="line">				// TODO Auto-generated method stub			</span><br><span class="line">			&#125;</span><br><span class="line">	     &#125;;</span><br><span class="line">	     twitterStream.addListener(listener);</span><br><span class="line">	     twitterStream.sample();</span><br><span class="line">	     </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This piece of sample code enables you to fetch tweets from twitter in real-time.</p>
<h2 id="Fetch-Filtered-Stream"><a href="#Fetch-Filtered-Stream" class="headerlink" title="Fetch Filtered Stream"></a>Fetch Filtered Stream</h2><p>Sometimes, we would like to search information that we are interested in, so we may need to filter the stream so that we can get relevant twitters. The code is shown below.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">package com.example.test;</span><br><span class="line"></span><br><span class="line">import twitter4j.*;</span><br><span class="line">import twitter4j.conf.ConfigurationBuilder;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.Arrays;</span><br><span class="line"></span><br><span class="line">public class PrintFilteredStream &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws TwitterException &#123;</span><br><span class="line">		String[] keywordsArray = &#123;&quot;iphone&quot;, &quot;samsung&quot;&#125;;</span><br><span class="line">		</span><br><span class="line">		ConfigurationBuilder cb = new ConfigurationBuilder();</span><br><span class="line">         </span><br><span class="line">	        //the following is set without accesstoken- desktop client</span><br><span class="line">	    cb.setDebugEnabled(true)</span><br><span class="line">	    	.setOAuthConsumerKey(&quot;CONSUMER-KEY&quot;)</span><br><span class="line">	        .setOAuthConsumerSecret(&quot;CONSUMER-SECRET&quot;)</span><br><span class="line">	        .setOAuthAccessToken(&quot;ACCESS-TOKEN&quot;)</span><br><span class="line">	        .setOAuthAccessTokenSecret(&quot;ACCESS-TOKEN-SECRET&quot;);</span><br><span class="line">		</span><br><span class="line">		//	Implementing StatusListner</span><br><span class="line">		StatusListener listener = new StatusListener() &#123;</span><br><span class="line">			@Override</span><br><span class="line">	    	public void onStatus(Status status) &#123;</span><br><span class="line">	            System.out.println(status.getUser().getName() + &quot; : &quot; + status.getText());</span><br><span class="line">	        &#125;</span><br><span class="line">			</span><br><span class="line">			@Override</span><br><span class="line">			public void onDeletionNotice(StatusDeletionNotice statusDeletionNotice) &#123;</span><br><span class="line">				System.out.println(&quot;Got a status deletion notice id:&quot; + statusDeletionNotice.getStatusId());</span><br><span class="line">	        &#125;</span><br><span class="line">			</span><br><span class="line">			@Override</span><br><span class="line">	        public void onTrackLimitationNotice(int numberOfLimitedStatuses) &#123;</span><br><span class="line">				System.out.println(&quot;Got track limitation notice:&quot; + numberOfLimitedStatuses);</span><br><span class="line">	        &#125;</span><br><span class="line">			</span><br><span class="line">			@Override</span><br><span class="line">	        public void onException(Exception ex)&#123;</span><br><span class="line">				ex.printStackTrace();</span><br><span class="line">	        &#125;</span><br><span class="line">			</span><br><span class="line">			@Override</span><br><span class="line">			public void onScrubGeo(long userId, long upToStatusId) &#123;</span><br><span class="line">				System.out.println(&quot;Got scrub_geo event userId:&quot; + userId + &quot; upToStatusId:&quot; + upToStatusId);</span><br><span class="line">			&#125;</span><br><span class="line">			@Override</span><br><span class="line">			public void onStallWarning(StallWarning warning) &#123;</span><br><span class="line">				System.out.println(&quot;Got stall warning:&quot; + warning);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">	     </span><br><span class="line">		TwitterStream twitterStream = new TwitterStreamFactory(cb.build()).getInstance();</span><br><span class="line">		twitterStream.addListener(listener);</span><br><span class="line">		ArrayList&lt;Long&gt; follow = new ArrayList&lt;Long&gt;();</span><br><span class="line">		ArrayList&lt;String&gt; track = new ArrayList&lt;String&gt;();</span><br><span class="line">		for(String arg : keywordsArray)&#123;</span><br><span class="line">			if(isNumericalArgument(arg))&#123;</span><br><span class="line">				for(String id : arg.split(&quot;,&quot;))&#123;</span><br><span class="line">					follow.add(Long.parseLong(id));</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;else&#123;</span><br><span class="line">				track.addAll(Arrays.asList(arg.split(&quot;,&quot;)));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		long[] followArray = new long[follow.size()];</span><br><span class="line">		for(int i = 0; i &lt; follow.size(); i++)&#123;</span><br><span class="line">			followArray[i] = follow.get(i);</span><br><span class="line">		&#125;</span><br><span class="line">		String[] trackArray = track.toArray(new String[track.size()]);</span><br><span class="line">		twitterStream.filter(new FilterQuery(0, followArray, trackArray));	 </span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static boolean isNumericalArgument(String argument)&#123;</span><br><span class="line">		String args[] = argument.split(&quot;,&quot;);</span><br><span class="line">		boolean isNumericalArgument = true;</span><br><span class="line">		for(String arg : args)&#123;</span><br><span class="line">			try&#123;</span><br><span class="line">				Integer.parseInt(arg);</span><br><span class="line">			&#125; catch(NumberFormatException nfe)&#123;</span><br><span class="line">				isNumericalArgument = false;</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		return isNumericalArgument;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="Set-up-elasticsearch-environment"><a href="#Set-up-elasticsearch-environment" class="headerlink" title="Set up elasticsearch environment"></a>Set up elasticsearch environment</h2><ol>
<li>   Go to AWS console and select elasticsearch service(you can also choose to use elasticsearch by downloading and unzipping it from <a target="_blank" rel="noopener" href="https://www.elastic.co/">here</a>)</li>
<li>Set access police to open access or any way you like, and then use curl to create index using <a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html">index</a> API.<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ curl -XPUT &#x27;http://search-twitter-1-kf5qeriqw5iu6uasbyv6dmwfbq.us-west-2.es.amazonaws.com/user/&#x27; -d &#x27;&#123;</span><br><span class="line">    &quot;settings&quot; : &#123;</span><br><span class="line">        &quot;index&quot; : &#123;</span><br><span class="line">            &quot;number_of_shards&quot; : 3, </span><br><span class="line">            &quot;number_of_replicas&quot; : 2 </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;&#x27;</span><br></pre></td></tr></table></figure>
this piece of code will create an index named “user” in your AWS domain. </li>
<li>   Next, you are going to create mapping. Here, the mapping called “profile” is created, which has three properties: text, latitude and longitude.<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">curl -XPOST search-twitter-1-kf5qeriqw5iu6uasbyv6dmwfbq.us-west-2.es.amazonaws.com/user/_mapping/profile -d </span><br><span class="line">&#x27;</span><br><span class="line">&#123;</span><br><span class="line">	&quot;profile&quot; : &#123;</span><br><span class="line">	    &quot;properties&quot; : &#123;</span><br><span class="line">		&quot;text&quot; : &#123; &quot;type&quot; : &quot;string&quot;&#125;,</span><br><span class="line">		&quot;latitude&quot; : &#123; &quot;type&quot; : &quot;string&quot;&#125;,</span><br><span class="line">		&quot;longitude&quot; : &#123; &quot;type&quot; : &quot;string&quot;&#125;</span><br><span class="line">         &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x27;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Upload-data-to-elasticsearch"><a href="#Upload-data-to-elasticsearch" class="headerlink" title="Upload data to elasticsearch"></a>Upload data to elasticsearch</h2><p>To upload data to elasticsearch, you can use the curl command in cygwin, since I am using a windows machine, or put this piece of code into the java program that are fetching twitter. From twitter stream, we can obtain a JSONObject, which could by utilize into uploading to elasticsearch.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">String url = &quot;http://search-twitter-1-kf5qeriqw5iu6uasbyv6dmwfbq.us-west-2.es.amazonaws.com/user/profile&quot;;</span><br><span class="line">HttpClient client = HttpClientBuilder.create().build();</span><br><span class="line">HttpPost put = new HttpPost(url);</span><br><span class="line">put.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);</span><br><span class="line">StringEntity params =new StringEntity(json.toString());</span><br><span class="line">put.setEntity(params);</span><br><span class="line">HttpResponse response = client.execute(put);</span><br><span class="line">System.out.println(&quot;Response Code:&quot;+response.getStatusLine().getStatusCode());</span><br><span class="line">	</span><br><span class="line">BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));</span><br><span class="line">StringBuffer result = new StringBuffer();</span><br><span class="line">String line = &quot;&quot;;</span><br><span class="line">while ((line = rd.readLine()) != null) &#123;</span><br><span class="line">	result.append(line);</span><br><span class="line">&#125;</span><br><span class="line">							System.out.println(&quot;result:&quot;+result);</span><br></pre></td></tr></table></figure>
<h2 id="UI-for-our-application"><a href="#UI-for-our-application" class="headerlink" title="UI for our application"></a>UI for our application</h2><p><img src="http://img.blog.csdn.net/20161025083341588" alt="Main UI"><br>This is the entry point for our application, you can choose keyword for twitter.<br><img src="http://img.blog.csdn.net/20161025083510465" alt="Google Map"><br>After you choose the keyword and click the “show” button, you can see the corresponding twitter location marked on the map.<br>Every 5 seconds, the front end will refresh and the counter, which can be seen in the second picture as 10, will gradually increase as our backend program continuously fetching data from twitter.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-05-22T14:30:04.000Z" title="2018/5/22 22:30:04">2018-05-22</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Frontend/">Frontend</a></span><span class="level-item">10 minutes read (About 1543 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/05/22/Using%20react%20component%20in%20twig/">Using React Component in Twig File</a></h1><div class="content"><p>Let’s start with some key concepts like what twig is, how twig work and etc., and then we can move on to the section of how to use react component in twig file.<br>##	Twig<br>So twig, first and foremost, is a template engine for PHP(I don’t really like it but it is official language in the company), which takes data(handled by backend logic) and template(frontend files like .html) as input and compiles them into the pages. There are four steps in total:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Load the template and</span><br><span class="line">	if the template is already compiled</span><br><span class="line">		load it</span><br><span class="line">	else</span><br><span class="line">		the lexer tokenize the code into smaller pieces</span><br><span class="line">		the parser converts the token stream into a tree of nodes(AST)</span><br><span class="line">		the compiler transform the AST into php code</span><br><span class="line">Called display method</span><br></pre></td></tr></table></figure>
<p>a more detailed of the whole process can be found <a target="_blank" rel="noopener" href="https://twig.symfony.com/doc/2.x/internals.html">here</a>.</p>
<p>To build a twittmap, we need to utilize the twitter API. Here, I chose twitter4j, which is an unofficial Java library for the Twitter API. With Twitter4J, you can easily integrate your Java application with the Twitter service. There are some tutorials here: <a target="_blank" rel="noopener" href="https://xmeng.wordpress.com/2011/07/10/how-to-handle-sign-in-with-twitter-using-twitter4j/" title="How to sign in with twitter using twitter4j">How to “Sign in with Twitter” using twitter4j</a>.<br>##	Register twitter app<br>Click this <a target="_blank" rel="noopener" href="https://dev.twitter.com/apps">link</a>and fill out the following form, it should be fine. Just remember to grant your app access for read and write.<br>##	Include twitter4j<br>For those who are not familiar with java, it would be a painful process to learn how use new tools at first(I like VS better, lol). Don’t worry, just follow the steps below. </p>
<ol>
<li>Download twitter4j from <a target="_blank" rel="noopener" href="http://twitter4j.org/en/">here</a>.</li>
<li>Unzip it.</li>
<li>After you create a java project, Right-click on your Java project and Select Properties.</li>
<li>Choose Java Build Path and select the third tab, Libraries.</li>
<li>Click add external library and add twitter4j-core-4.0.4.jar.</li>
</ol>
<h2 id="Begin-programming"><a href="#Begin-programming" class="headerlink" title="Begin programming"></a>Begin programming</h2><p>A lot of examples are available. Here is the sample code used in tutorial mentioned above (Using eclipse).</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">package com.example.test;</span><br><span class="line"></span><br><span class="line">import twitter4j.Status;</span><br><span class="line">import twitter4j.Twitter;</span><br><span class="line">import twitter4j.TwitterException;</span><br><span class="line">import twitter4j.TwitterFactory;</span><br><span class="line">import twitter4j.auth.AccessToken;</span><br><span class="line">import twitter4j.auth.RequestToken;</span><br><span class="line">import twitter4j.conf.ConfigurationBuilder;</span><br><span class="line">import twitter4j.conf.Configuration;</span><br><span class="line"> </span><br><span class="line">import java.io.BufferedReader;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line">public class FirstClass &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		String testStatus=&quot;Hello from twitter4j&quot;;</span><br><span class="line">		 </span><br><span class="line">        ConfigurationBuilder cb = new ConfigurationBuilder();</span><br><span class="line">         </span><br><span class="line">        //the following is set without accesstoken- desktop client</span><br><span class="line">        cb.setDebugEnabled(true)</span><br><span class="line">        	.setOAuthConsumerKey(&quot;CONSUMER-KEY&quot;)</span><br><span class="line">        	.setOAuthConsumerSecret(&quot;CONSUMER-SECRET&quot;);</span><br><span class="line">		try&#123;</span><br><span class="line">			TwitterFactory tf = new TwitterFactory(cb.build());</span><br><span class="line">            Twitter twitter = tf.getInstance();</span><br><span class="line">			</span><br><span class="line">			try&#123;</span><br><span class="line">				RequestToken requestToken = twitter.getOAuthRequestToken();</span><br><span class="line">                System.out.println(&quot;Got request token.&quot;);</span><br><span class="line">                System.out.println(&quot;Request token: &quot; + requestToken.getToken());</span><br><span class="line">                System.out.println(&quot;Request token secret: &quot; + requestToken.getTokenSecret());</span><br><span class="line">                AccessToken accessToken = null;</span><br><span class="line">                </span><br><span class="line">                BufferedReader br = new BufferedReader(new InputStreamReader(System.in));</span><br><span class="line">                while(accessToken == null)&#123;</span><br><span class="line">                	System.out.println(&quot;Open the following URL and grant access to your account:&quot;);</span><br><span class="line">                    System.out.println(requestToken.getAuthorizationURL());</span><br><span class="line">                    System.out.print(&quot;Enter the PIN(if available) and hit enter after you granted access.[PIN]:&quot;);</span><br><span class="line">                    String pin = br.readLine();</span><br><span class="line">                    try &#123;</span><br><span class="line">                        if (pin.length() &gt; 0) &#123;</span><br><span class="line">                            accessToken = twitter.getOAuthAccessToken(requestToken, pin);</span><br><span class="line">                        &#125; else &#123;</span><br><span class="line">                            accessToken = twitter.getOAuthAccessToken(requestToken);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; catch (TwitterException te) &#123;</span><br><span class="line">                        if (401 == te.getStatusCode()) &#123;</span><br><span class="line">                            System.out.println(&quot;Unable to get the access token.&quot;);</span><br><span class="line">                        &#125; else &#123;</span><br><span class="line">                            te.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(&quot;Got access token.&quot;);</span><br><span class="line">                System.out.println(&quot;Access token: &quot; + accessToken.getToken());</span><br><span class="line">                System.out.println(&quot;Access token secret: &quot; + accessToken.getTokenSecret());</span><br><span class="line">			&#125; catch(IllegalStateException ie)&#123;</span><br><span class="line">				if (!twitter.getAuthorization().isEnabled()) &#123;</span><br><span class="line">                    System.out.println(&quot;OAuth consumer key/secret is not set.&quot;);</span><br><span class="line">                    System.exit(-1);</span><br><span class="line">                &#125;</span><br><span class="line">			&#125;</span><br><span class="line">			Status status = twitter.updateStatus(testStatus);</span><br><span class="line">	        System.out.println(&quot;Successfully updated the status to [&quot; + status.getText() + &quot;].&quot;);</span><br><span class="line">	        System.exit(0);</span><br><span class="line">		&#125; catch (TwitterException te) &#123;</span><br><span class="line">            te.printStackTrace();</span><br><span class="line">            System.out.println(&quot;Failed to get timeline: &quot; + te.getMessage());</span><br><span class="line">            System.exit(-1);</span><br><span class="line">        &#125; catch (IOException ioe) &#123;</span><br><span class="line">            ioe.printStackTrace();</span><br><span class="line">            System.out.println(&quot;Failed to read the system input.&quot;);</span><br><span class="line">            System.exit(-1);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>This piece of code can post a twitter from your account, after running this u can see the following instructions.<br><img src="http://img.blog.csdn.net/20161012030205951" alt="Instructions"><br>Just click into the url it mentioned and grant access to your app, and then type in the PIN code that it gives u. After that, u can check ur twitter now.<br><img src="http://img.blog.csdn.net/20161012030038935" alt="Result"><br>##	Use streaming API<br>Here is the code.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">package com.example.test;</span><br><span class="line"></span><br><span class="line">import twitter4j.*;</span><br><span class="line">import twitter4j.conf.ConfigurationBuilder;</span><br><span class="line"></span><br><span class="line">public class PrintSampleStream &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws TwitterException&#123;</span><br><span class="line">		 ConfigurationBuilder cb = new ConfigurationBuilder();</span><br><span class="line">         </span><br><span class="line">	        //the following is set without accesstoken- desktop client</span><br><span class="line">	        cb.setDebugEnabled(true)</span><br><span class="line">	        	.setOAuthConsumerKey(&quot;I won&#x27;t tell u&quot;)</span><br><span class="line">	        	.setOAuthConsumerSecret(&quot;what my key and secret is&quot;)</span><br><span class="line">	        	.setOAuthAccessToken(&quot;LOL&quot;)</span><br><span class="line">	        	.setOAuthAccessTokenSecret(&quot;:)&quot;);</span><br><span class="line">		</span><br><span class="line">		TwitterStream twitterStream = new TwitterStreamFactory(cb.build()).getInstance();</span><br><span class="line">	    StatusListener listener = new StatusListener() &#123;</span><br><span class="line">	    	 public void onStatus(Status status) &#123;</span><br><span class="line">	             System.out.println(status.getUser().getName() + &quot; : &quot; + status.getText());</span><br><span class="line">	         &#125;</span><br><span class="line">	         public void onDeletionNotice(StatusDeletionNotice statusDeletionNotice) &#123;&#125;</span><br><span class="line">	         public void onTrackLimitationNotice(int numberOfLimitedStatuses) &#123;&#125;</span><br><span class="line">	         public void onException(Exception ex)&#123;</span><br><span class="line">	             ex.printStackTrace();</span><br><span class="line">	         &#125;</span><br><span class="line">			@Override</span><br><span class="line">			public void onScrubGeo(long arg0, long arg1) &#123;</span><br><span class="line">				// TODO Auto-generated method stub</span><br><span class="line">			&#125;</span><br><span class="line">			@Override</span><br><span class="line">			public void onStallWarning(StallWarning arg0) &#123;</span><br><span class="line">				// TODO Auto-generated method stub			</span><br><span class="line">			&#125;</span><br><span class="line">	     &#125;;</span><br><span class="line">	     twitterStream.addListener(listener);</span><br><span class="line">	     twitterStream.sample();</span><br><span class="line">	     </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This piece of sample code enables you to fetch tweets from twitter in real-time.</p>
<h2 id="Fetch-Filtered-Stream"><a href="#Fetch-Filtered-Stream" class="headerlink" title="Fetch Filtered Stream"></a>Fetch Filtered Stream</h2><p>Sometimes, we would like to search information that we are interested in, so we may need to filter the stream so that we can get relevant twitters. The code is shown below.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">package com.example.test;</span><br><span class="line"></span><br><span class="line">import twitter4j.*;</span><br><span class="line">import twitter4j.conf.ConfigurationBuilder;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.Arrays;</span><br><span class="line"></span><br><span class="line">public class PrintFilteredStream &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws TwitterException &#123;</span><br><span class="line">		String[] keywordsArray = &#123;&quot;iphone&quot;, &quot;samsung&quot;&#125;;</span><br><span class="line">		</span><br><span class="line">		ConfigurationBuilder cb = new ConfigurationBuilder();</span><br><span class="line">         </span><br><span class="line">	        //the following is set without accesstoken- desktop client</span><br><span class="line">	    cb.setDebugEnabled(true)</span><br><span class="line">	    	.setOAuthConsumerKey(&quot;CONSUMER-KEY&quot;)</span><br><span class="line">	        .setOAuthConsumerSecret(&quot;CONSUMER-SECRET&quot;)</span><br><span class="line">	        .setOAuthAccessToken(&quot;ACCESS-TOKEN&quot;)</span><br><span class="line">	        .setOAuthAccessTokenSecret(&quot;ACCESS-TOKEN-SECRET&quot;);</span><br><span class="line">		</span><br><span class="line">		//	Implementing StatusListner</span><br><span class="line">		StatusListener listener = new StatusListener() &#123;</span><br><span class="line">			@Override</span><br><span class="line">	    	public void onStatus(Status status) &#123;</span><br><span class="line">	            System.out.println(status.getUser().getName() + &quot; : &quot; + status.getText());</span><br><span class="line">	        &#125;</span><br><span class="line">			</span><br><span class="line">			@Override</span><br><span class="line">			public void onDeletionNotice(StatusDeletionNotice statusDeletionNotice) &#123;</span><br><span class="line">				System.out.println(&quot;Got a status deletion notice id:&quot; + statusDeletionNotice.getStatusId());</span><br><span class="line">	        &#125;</span><br><span class="line">			</span><br><span class="line">			@Override</span><br><span class="line">	        public void onTrackLimitationNotice(int numberOfLimitedStatuses) &#123;</span><br><span class="line">				System.out.println(&quot;Got track limitation notice:&quot; + numberOfLimitedStatuses);</span><br><span class="line">	        &#125;</span><br><span class="line">			</span><br><span class="line">			@Override</span><br><span class="line">	        public void onException(Exception ex)&#123;</span><br><span class="line">				ex.printStackTrace();</span><br><span class="line">	        &#125;</span><br><span class="line">			</span><br><span class="line">			@Override</span><br><span class="line">			public void onScrubGeo(long userId, long upToStatusId) &#123;</span><br><span class="line">				System.out.println(&quot;Got scrub_geo event userId:&quot; + userId + &quot; upToStatusId:&quot; + upToStatusId);</span><br><span class="line">			&#125;</span><br><span class="line">			@Override</span><br><span class="line">			public void onStallWarning(StallWarning warning) &#123;</span><br><span class="line">				System.out.println(&quot;Got stall warning:&quot; + warning);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">	     </span><br><span class="line">		TwitterStream twitterStream = new TwitterStreamFactory(cb.build()).getInstance();</span><br><span class="line">		twitterStream.addListener(listener);</span><br><span class="line">		ArrayList&lt;Long&gt; follow = new ArrayList&lt;Long&gt;();</span><br><span class="line">		ArrayList&lt;String&gt; track = new ArrayList&lt;String&gt;();</span><br><span class="line">		for(String arg : keywordsArray)&#123;</span><br><span class="line">			if(isNumericalArgument(arg))&#123;</span><br><span class="line">				for(String id : arg.split(&quot;,&quot;))&#123;</span><br><span class="line">					follow.add(Long.parseLong(id));</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;else&#123;</span><br><span class="line">				track.addAll(Arrays.asList(arg.split(&quot;,&quot;)));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		long[] followArray = new long[follow.size()];</span><br><span class="line">		for(int i = 0; i &lt; follow.size(); i++)&#123;</span><br><span class="line">			followArray[i] = follow.get(i);</span><br><span class="line">		&#125;</span><br><span class="line">		String[] trackArray = track.toArray(new String[track.size()]);</span><br><span class="line">		twitterStream.filter(new FilterQuery(0, followArray, trackArray));	 </span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static boolean isNumericalArgument(String argument)&#123;</span><br><span class="line">		String args[] = argument.split(&quot;,&quot;);</span><br><span class="line">		boolean isNumericalArgument = true;</span><br><span class="line">		for(String arg : args)&#123;</span><br><span class="line">			try&#123;</span><br><span class="line">				Integer.parseInt(arg);</span><br><span class="line">			&#125; catch(NumberFormatException nfe)&#123;</span><br><span class="line">				isNumericalArgument = false;</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		return isNumericalArgument;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="Set-up-elasticsearch-environment"><a href="#Set-up-elasticsearch-environment" class="headerlink" title="Set up elasticsearch environment"></a>Set up elasticsearch environment</h2><ol>
<li>   Go to AWS console and select elasticsearch service(you can also choose to use elasticsearch by downloading and unzipping it from <a target="_blank" rel="noopener" href="https://www.elastic.co/">here</a>)</li>
<li>Set access police to open access or any way you like, and then use curl to create index using <a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html">index</a> API.<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ curl -XPUT &#x27;http://search-twitter-1-kf5qeriqw5iu6uasbyv6dmwfbq.us-west-2.es.amazonaws.com/user/&#x27; -d &#x27;&#123;</span><br><span class="line">    &quot;settings&quot; : &#123;</span><br><span class="line">        &quot;index&quot; : &#123;</span><br><span class="line">            &quot;number_of_shards&quot; : 3, </span><br><span class="line">            &quot;number_of_replicas&quot; : 2 </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;&#x27;</span><br></pre></td></tr></table></figure>
this piece of code will create an index named “user” in your AWS domain. </li>
<li>   Next, you are going to create mapping. Here, the mapping called “profile” is created, which has three properties: text, latitude and longitude.<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">curl -XPOST search-twitter-1-kf5qeriqw5iu6uasbyv6dmwfbq.us-west-2.es.amazonaws.com/user/_mapping/profile -d </span><br><span class="line">&#x27;</span><br><span class="line">&#123;</span><br><span class="line">	&quot;profile&quot; : &#123;</span><br><span class="line">	    &quot;properties&quot; : &#123;</span><br><span class="line">		&quot;text&quot; : &#123; &quot;type&quot; : &quot;string&quot;&#125;,</span><br><span class="line">		&quot;latitude&quot; : &#123; &quot;type&quot; : &quot;string&quot;&#125;,</span><br><span class="line">		&quot;longitude&quot; : &#123; &quot;type&quot; : &quot;string&quot;&#125;</span><br><span class="line">         &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x27;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Upload-data-to-elasticsearch"><a href="#Upload-data-to-elasticsearch" class="headerlink" title="Upload data to elasticsearch"></a>Upload data to elasticsearch</h2><p>To upload data to elasticsearch, you can use the curl command in cygwin, since I am using a windows machine, or put this piece of code into the java program that are fetching twitter. From twitter stream, we can obtain a JSONObject, which could by utilize into uploading to elasticsearch.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">String url = &quot;http://search-twitter-1-kf5qeriqw5iu6uasbyv6dmwfbq.us-west-2.es.amazonaws.com/user/profile&quot;;</span><br><span class="line">HttpClient client = HttpClientBuilder.create().build();</span><br><span class="line">HttpPost put = new HttpPost(url);</span><br><span class="line">put.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);</span><br><span class="line">StringEntity params =new StringEntity(json.toString());</span><br><span class="line">put.setEntity(params);</span><br><span class="line">HttpResponse response = client.execute(put);</span><br><span class="line">System.out.println(&quot;Response Code:&quot;+response.getStatusLine().getStatusCode());</span><br><span class="line">	</span><br><span class="line">BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));</span><br><span class="line">StringBuffer result = new StringBuffer();</span><br><span class="line">String line = &quot;&quot;;</span><br><span class="line">while ((line = rd.readLine()) != null) &#123;</span><br><span class="line">	result.append(line);</span><br><span class="line">&#125;</span><br><span class="line">							System.out.println(&quot;result:&quot;+result);</span><br></pre></td></tr></table></figure>
<h2 id="UI-for-our-application"><a href="#UI-for-our-application" class="headerlink" title="UI for our application"></a>UI for our application</h2><p><img src="http://img.blog.csdn.net/20161025083341588" alt="Main UI"><br>This is the entry point for our application, you can choose keyword for twitter.<br><img src="http://img.blog.csdn.net/20161025083510465" alt="Google Map"><br>After you choose the keyword and click the “show” button, you can see the corresponding twitter location marked on the map.<br>Every 5 seconds, the front end will refresh and the counter, which can be seen in the second picture as 10, will gradually increase as our backend program continuously fetching data from twitter.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2017-09-05T11:08:04.000Z" title="2017/9/5 19:08:04">2017-09-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Distributed-System/">Distributed System</a></span><span class="level-item">a few seconds read (About 53 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/09/05/Distributed%20System/">Fundamentals on Large-scale Distributed System</a></h1><div class="content"><h1 id="Course-Notes-on-COMS-W4113"><a href="#Course-Notes-on-COMS-W4113" class="headerlink" title="Course Notes on COMS W4113"></a>Course Notes on COMS W4113</h1><ul>
<li>website: <a target="_blank" rel="noopener" href="https://columbia.github.io/ds1-class/">https://columbia.github.io/ds1-class/</a></li>
</ul>
<h2 id="Challenge-1-large-data-many-users-more-requests"><a href="#Challenge-1-large-data-many-users-more-requests" class="headerlink" title="Challenge 1: large data, many users, more requests"></a>Challenge 1: large data, many users, more requests</h2><p>No single machine can process all data efficiently and we want to enable distribution</p>
<h2 id="Challenge-2-scaling-is-hard"><a href="#Challenge-2-scaling-is-hard" class="headerlink" title="Challenge 2: scaling is hard"></a>Challenge 2: scaling is hard</h2><p>An system may not scale due to multiple reasons and we want to achieve incremental scalability</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2017-08-31T11:08:04.000Z" title="2017/8/31 19:08:04">2017-08-31</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Intellisense/">Intellisense</a></span><span class="level-item">2 minutes read (About 236 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/08/31/Intellisense%20in%20IDE/">Intellisense in IDE</a></h1><div class="content"><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>During my internship this summer, our team wants to build a cloud IDE for other developers in the company and I was in charge of the autocompletion feature. It was absolutely a challenge for cause I have done anything related to it at all. So it took me a while to know how the whole system works. Due to security concern, I am not allowed to show you the code. However, this blog can still serve as an introduction and a basic tutorial for those who wants to equip their editor with intellisense.</p>
<p>Before I proceed to building our own cloud IDE, I did some researches on how IDE liek pycharm or eclipse provide intellisense; and I discovered that most of them make use of the compiler APIs, which provide rich information about the code snippet. In addition, with a more thorough dive into VS Code, I found out a handy tool called Microsoft Language Server Portocol. As I see it, instead of re-building our own interface to different compilers, why not make use of all kinds of existing language servers, which can save us the cost of maintainance. Accordingly, we decide to use Monaco as our editor, which is a core component of VS Code, and luckily, now all I have to do is to build a language client that can communicate with languages servers with jsonrpc.</p>
<h2 id="To-Be-Continued"><a href="#To-Be-Continued" class="headerlink" title="To Be Continued"></a>To Be Continued</h2><p>blah blah blah</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2017-08-28T11:08:04.000Z" title="2017/8/28 19:08:04">2017-08-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Robotics/">Robotics</a></span><span class="level-item">a minute read (About 167 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/08/28/Computational%20Aspects%20of%20Robotics/">Computational Aspects of Robotics</a></h1><div class="content"><h1 id="Course-Notes-on-COMS-W4733"><a href="#Course-Notes-on-COMS-W4733" class="headerlink" title="Course Notes on COMS W4733"></a>Course Notes on COMS W4733</h1><p>textbook: Introduction to autonomous mobile robots 2nd edition<br>course website: <a target="_blank" rel="noopener" href="http://www.cs.columbia.edu/~allen/F17/about.html">www.cs.columbia.edu/~allen/F17/about.html</a></p>
<p>No midterm</p>
<h2 id="Locomotion"><a href="#Locomotion" class="headerlink" title="Locomotion"></a>Locomotion</h2><p>Owing to limitations, mobile robots generally locomote either using wheeled<br>mechanisms.</p>
<h3 id="Key-Issues-for-Locomotion"><a href="#Key-Issues-for-Locomotion" class="headerlink" title="Key Issues for Locomotion"></a>Key Issues for Locomotion</h3><ul>
<li>stability</li>
<li>characteristics of contact</li>
<li>type of environment</li>
</ul>
<h3 id="Legged-Mobile-Robots"><a href="#Legged-Mobile-Robots" class="headerlink" title="Legged Mobile Robots"></a>Legged Mobile Robots</h3><p>Characterized by a series of point contacts between the robot and the ground. For a mobile robot<br>with legs, the total number of distinct event sequences for a walking machine is<br>$$N &#x3D; (2k - 1)!$$<br>####	Advantages</p>
<ul>
<li>adaptability and maneuverability in rough terrain</li>
<li>capable of crossing a hole or chasm so long as its reach<br>exceeds the width of the hole</li>
</ul>
<h4 id="Disadvantages"><a href="#Disadvantages" class="headerlink" title="Disadvantages"></a>Disadvantages</h4><ul>
<li>power and mechanical complexity</li>
<li>high maneuverability will only be achieved if the legs have a sufficient number of degrees of freedom to impart forces in a number of different directions</li>
</ul>
<h3 id="Wheeled-Mobile-Robots"><a href="#Wheeled-Mobile-Robots" class="headerlink" title="Wheeled Mobile Robots"></a>Wheeled Mobile Robots</h3><h4 id="Advantages"><a href="#Advantages" class="headerlink" title="Advantages"></a>Advantages</h4><ul>
<li>good efficiency</li>
<li>no balance issues</li>
</ul>
<h4 id="Disadvantages-1"><a href="#Disadvantages-1" class="headerlink" title="Disadvantages"></a>Disadvantages</h4><ul>
<li>traction</li>
<li>stability</li>
<li>maneuverability</li>
</ul>
<h3 id="Aerial-Mobile-Robots"><a href="#Aerial-Mobile-Robots" class="headerlink" title="Aerial Mobile Robots"></a>Aerial Mobile Robots</h3><p>(I guess I need to post some photos in the future)</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2017-08-28T11:08:04.000Z" title="2017/8/28 19:08:04">2017-08-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Distributed-System/">Distributed System</a></span><span class="level-item">3 minutes read (About 408 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/08/28/Elastic%20Distributed%20Database/">Elastic Distributed Database</a></h1><div class="content"><p>This project aims to develop an elastic distributed database using MySQL replication to guarantee high availability and dynamic scalability and use it to serve as the backend for a multi-tier web application running TPC-W benchmark.<br>##	Configuration on single ec2</p>
<ul>
<li><p>Config on AWS and install necessary tools on ec2(master node). password for mysql is : TigerBit!2016(default)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install -y openjdk-7-jdk ant gcc links git make</span><br><span class="line">sudo apt-get install mysql-server</span><br><span class="line">sudo apt-get install tomcat7</span><br></pre></td></tr></table></figure>
<p>on slave nodes and candidate node, only mysql and java needs to be installed. </p>
</li>
<li><p>   Clone repository</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/jopereira/java-tpcw.git</span><br><span class="line">git clone https://github.com/peterbittiger/elasticDB.git</span><br></pre></td></tr></table></figure></li>
<li><p>   Initialize Database</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p &lt; /home/ubuntu/elasticDB/tpcw/mysql.sql</span><br></pre></td></tr></table></figure></li>
<li><p>   Deployment</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd java-tpcw</span><br><span class="line">patch -p1 &lt; /home/ubuntu/elasticDB/tpcw/tpcw.patch	//	apply patch</span><br><span class="line">ant dist	</span><br><span class="line">sudo rm -rf /var/lib/tomcat7/webapps/tpcw*	//	not necessary for the first time</span><br><span class="line">sudo cp /home/ubuntu/java-tpcw/dist/tpcw.war /var/lib/tomcat7/webapps	</span><br><span class="line">ant gendb	//	populate database</span><br><span class="line">sudo ant genimg	//	presentation tier</span><br></pre></td></tr></table></figure></li>
<li><p>   Log in the web page</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://&lt;ip address&gt;:8080/tpcw/TPCW_home_interaction</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Configuration-on-multiple-ec2"><a href="#Configuration-on-multiple-ec2" class="headerlink" title="Configuration on multiple ec2"></a>Configuration on multiple ec2</h2><p>Use our own laptop as client emulator, which is respond for sending different request.</p>
<ul>
<li><p>   Set root password to: 0307</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo su</span><br><span class="line">passwd</span><br></pre></td></tr></table></figure>
</li>
<li><p>   Change config to allow access from outside</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure>
<p>change $PermitRootLogin$ to yes and $PasswordAuthentication$ to yes and then restart ssh service.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service ssh restart</span><br></pre></td></tr></table></figure></li>
<li><p>   Copy key-pairs between machines</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo su</span><br><span class="line">cd ~</span><br><span class="line">ssh-keygen -t rsa</span><br><span class="line">ssh-copy-id root@&lt;ip address&gt;</span><br></pre></td></tr></table></figure>
<p>my computer copy to 4 ec2 instances, master copy to 4 ec2 instances(including itself), slaves should copy to the other 3 ec2 instances. Copying key of $a$ to $c$ means that $c$ grants access to $a$</p>
</li>
<li><p>   Clone repo</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/peterbittiger/elasticDB.git</span><br></pre></td></tr></table></figure>
<p>change the ip address in set_env.sh and run testConnection.sh to test communications</p>
</li>
</ul>
<h2 id="MySQL-Replication-Test"><a href="#MySQL-Replication-Test" class="headerlink" title="MySQL Replication Test"></a>MySQL Replication Test</h2><p>Run prepareMasterSlaves.sh and then log in to master node and run mysql</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br><span class="line">#pwd: TigerBit!2016</span><br></pre></td></tr></table></figure>
<p>inside mysql enter the following commands:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use canvasjs_db;</span><br><span class="line">mysql&gt; select * from datapoints;</span><br></pre></td></tr></table></figure>

<p>download related dependency for this project:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mvn dependency:resolve</span><br><span class="line">mvn eclipse:eclipse</span><br></pre></td></tr></table></figure>
<p>and then change ipaddress in tpcw.properties in our project:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">writeQueue = &lt;MASTER_IP&gt;</span><br><span class="line">readQueue = &lt;MASTER_IP&gt;,&lt;SLAVE1_IP&gt;,&lt;SLAVE2_IP&gt;</span><br><span class="line">candidateQueur = &lt;CANDIDATE_IP&gt;</span><br></pre></td></tr></table></figure>


<p>Before we run the project, we must re-run the prepareMasterSlaves.sh, which would take approximately 5 minutes. Next, run enableMonitors.sh, and we will see new tabs showing performance.</p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/2/">Previous</a></div><div class="pagination-next"><a href="/page/4/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><a class="pagination-link is-current" href="/page/3/">3</a></li><li><a class="pagination-link" href="/page/4/">4</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="CXC"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">CXC</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Your location</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">34</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">15</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">17</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Phantomape" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Phantomape"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Cloud-Computing/"><span class="level-start"><span class="level-item">Cloud Computing</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Deep-Learning/"><span class="level-start"><span class="level-item">Deep Learning</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Distributed-System/"><span class="level-start"><span class="level-item">Distributed System</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Frontend/"><span class="level-start"><span class="level-item">Frontend</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Intellisense/"><span class="level-start"><span class="level-item">Intellisense</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Mathemtatics/"><span class="level-start"><span class="level-item">Mathemtatics</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Maths/"><span class="level-start"><span class="level-item">Maths</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Operating-System/"><span class="level-start"><span class="level-item">Operating System</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Others/"><span class="level-start"><span class="level-item">Others</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming-Language/"><span class="level-start"><span class="level-item">Programming Language</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Regex/"><span class="level-start"><span class="level-item">Regex</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Robotics/"><span class="level-start"><span class="level-item">Robotics</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-02-12T10:04:16.743Z">2023-02-12</time></p><p class="title"><a href="/2023/02/12/README/"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-02-12T10:04:16.740Z">2023-02-12</time></p><p class="title"><a href="/2023/02/12/LeetCode-1/">Two Sum</a></p><p class="categories"><a href="/categories/Algorithm/">Algorithm</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-02-12T10:04:16.740Z">2023-02-12</time></p><p class="title"><a href="/2023/02/12/LeetCode-634-DerangementOfAnArray/">Derangement of An Array</a></p><p class="categories"><a href="/categories/Algorithm/">Algorithm</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-02-12T10:04:16.738Z">2023-02-12</time></p><p class="title"><a href="/2023/02/12/Kalman%20Filter%20I/">Kalman Filter I(Chinese)</a></p><p class="categories"><a href="/categories/Maths/">Maths</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-02-12T10:04:16.738Z">2023-02-12</time></p><p class="title"><a href="/2023/02/12/Kalman%20Filter%20II/">Kalman Filter II(Chinese)</a></p><p class="categories"><a href="/categories/Maths/">Maths</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/02/"><span class="level-start"><span class="level-item">February 2023</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">July 2018</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">June 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/05/"><span class="level-start"><span class="level-item">May 2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/09/"><span class="level-start"><span class="level-item">September 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/08/"><span class="level-start"><span class="level-item">August 2017</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cloud-Computing/"><span class="tag">Cloud Computing</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Deep-Learning/"><span class="tag">Deep Learning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Distributed-System/"><span class="tag">Distributed System</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Intellisense/"><span class="tag">Intellisense</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Javascript/"><span class="tag">Javascript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Lazy-Loading/"><span class="tag">Lazy Loading</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mathematics/"><span class="tag">Mathematics</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Maths/"><span class="tag">Maths</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Network/"><span class="tag">Network</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OOP/"><span class="tag">OOP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Operating-System/"><span class="tag">Operating System</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Others/"><span class="tag">Others</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/React/"><span class="tag">React</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Regex/"><span class="tag">Regex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Robotics/"><span class="tag">Robotics</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a><p class="is-size-7"><span>&copy; 2023 Xucheng Chen</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>