<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Hexo</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hexo"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hexo"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Hexo"><meta property="og:url" content="http://example.com/"><meta property="og:site_name" content="Hexo"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://example.com/img/og_image.png"><meta property="article:author" content="Xucheng Chen"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://example.com/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com"},"headline":"Hexo","image":["http://example.com/img/og_image.png"],"author":{"@type":"Person","name":"Xucheng Chen"},"publisher":{"@type":"Organization","name":"Hexo","logo":{"@type":"ImageObject","url":"http://example.com/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-07-13T12:48:04.000Z" title="2018/7/13 20:48:04">2018-07-13</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Distributed-System/">Distributed System</a></span><span class="level-item">a minute read (About 138 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/07/13/Two-phase%20Commit/">Two-phase Commit</a></h1><div class="content"><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Two-phase commit(2PC) is an atomic commitment protocol, which is related to but different from consensus, and is widely used to implemente distributed transactions.</p>
<h1 id="Protocol"><a href="#Protocol" class="headerlink" title="Protocol"></a>Protocol</h1><ul>
<li>A coordinator sends a proposal to all participants.</li>
<li>When a participant receives a proposal, it responds with a “Yes” or “No”. If the participants votes “No”, it can immediately abort.</li>
<li>The coordinator collects votes, if all were “Yes”, the coordinator decides to commit and sends “Commit” message to each participant; otherwise, it will send “Abort” message to each participant that voted “Yes”</li>
<li>Participants wait for message from the coordinator. When they receive one, they should act accordingly.</li>
</ul>
<p>From my perspective, the protocol itself is already very similar to paxos.</p>
<h1 id="Timeouts"><a href="#Timeouts" class="headerlink" title="Timeouts"></a>Timeouts</h1><p>The words from the ppt is so mysterious, I couldn’t interpret it :(</p>
<h1 id="Failover"><a href="#Failover" class="headerlink" title="Failover"></a>Failover</h1><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><ul>
<li>2PC guarantees consistency but not availablity.</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-07-05T11:08:04.000Z" title="2018/7/5 19:08:04">2018-07-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming-Language/">Programming Language</a></span><span class="level-item">2 minutes read (About 258 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/07/05/Object%20Oriented%20Programming/">Object Oriented Programming(Draft)</a></h1><div class="content"><p>This article is full of shit that I don’t understand:(</p>
<h1 id="Static-Class-Based-Model"><a href="#Static-Class-Based-Model" class="headerlink" title="Static Class Based Model"></a>Static Class Based Model</h1><p>The class represents a formal abstract set of the generalized characteristics of an instance (the knowledge about objects). Characteristics of instances are: properties (object description) and methods (object activity).</p>
<h1 id="Prototype-Based-Model"><a href="#Prototype-Based-Model" class="headerlink" title="Prototype Based Model"></a>Prototype Based Model</h1><p>objects can independently store all their characteristics (properties, methods) and do not need the class.</p>
<h2 id="Delegation"><a href="#Delegation" class="headerlink" title="Delegation"></a>Delegation</h2><p>In contrast with the static class based implementation, in case of impossibility to respond the message, the conclusion is: the object at the moment does not have the requested characteristic, however to get the result is still possible if to try to analyze alternative prototype chain, or probably, the object will have such characteristic after a number of mutations.</p>
<h2 id="Concatenative-Model"><a href="#Concatenative-Model" class="headerlink" title="Concatenative Model"></a>Concatenative Model</h2><p>Concatenative prototyping is to not use delegation but exact copy of a prototype at the moment of object creation</p>
<h1 id="Duck-Typing"><a href="#Duck-Typing" class="headerlink" title="Duck Typing"></a>Duck Typing</h1><p>identification of objects can be made not by their hierarchy and belonging to concrete type, but by a current set of characteristics.</p>
<h1 id="Encapsulation"><a href="#Encapsulation" class="headerlink" title="Encapsulation"></a>Encapsulation</h1><p>The basic purpose of the encapsulation, repeat, is an abstraction from the user of the auxiliary helper data and not a “way to secure object from hackers”. Encapsulating auxiliary helper (local) objects, we provide possibility for further behavior changes of the public-interface with a minimum of expenses, localizing and predicting places of these changes. And exactly this is the main encapsulation purpose.</p>
<h1 id="Mixins"><a href="#Mixins" class="headerlink" title="Mixins"></a>Mixins</h1><p>Mixins have been suggested as an alternative to multiple inheritance. These are independent elements which can be mixed with any objects, extending their functionality.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-07-02T11:08:04.000Z" title="2018/7/2 19:08:04">2018-07-02</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Frontend/">Frontend</a></span><span class="level-item">2 minutes read (About 304 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/07/02/An%20interesting%20bug/">An interesting bug</a></h1><div class="content"><h1 id="Original-Code"><a href="#Original-Code" class="headerlink" title="Original Code"></a>Original Code</h1><p>Let’s take a look at the code snippet</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">calculate() &#123;</span><br><span class="line">    console.log(&#x27;Call calculate()&#x27;);</span><br><span class="line">    const isCompleted = ...;</span><br><span class="line"></span><br><span class="line">    if (isCompleted) &#123;</span><br><span class="line">        const answers = ...;</span><br><span class="line">        this.fetchWhatWeWant(answers);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        console.log(&#x27;Before setting latestQuery to null&#x27;);</span><br><span class="line">        this.latestTotalPriceQuery = null;</span><br><span class="line">        console.log(&#x27;After setting latestQuery to null&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// This fetchWhatWeWant function is already debounced</span><br><span class="line">fetchWhatWeWant(answers) &#123;</span><br><span class="line">    if (itemPriceAnswers === null) &#123;</span><br><span class="line">        this.latestQuery = null;</span><br><span class="line">        return Promise.resolve();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const endpoint = ...;</span><br><span class="line">    const payload = ...;</span><br><span class="line"></span><br><span class="line">    const query = postJson(endpoint, payload);</span><br><span class="line">    query.then((response) =&gt; &#123;</span><br><span class="line">        if (!_.isEqual(query, this.latestQuery)) &#123;</span><br><span class="line">            return Promise.resolve();</span><br><span class="line">        &#125;</span><br><span class="line">        console.log(&#x27;Comparing&#x27;);</span><br><span class="line">        console.log(this.latestQuery);</span><br><span class="line">        console.log(query);</span><br><span class="line">        ...</span><br><span class="line">        return Promise.resolve();</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(() =&gt; &#123;</span><br><span class="line">        if (_.isEqual(query, this.latestQuery)) &#123;</span><br><span class="line">            ...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(() =&gt; &#123;</span><br><span class="line">        if (_.isEqual(query, this.latestQuery)) &#123;</span><br><span class="line">            this.latestQuery = null;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    console.log(&#x27;Before setting latestTotalPriceQuery to query&#x27;);</span><br><span class="line">    this.latestTotalPriceQuery = query;</span><br><span class="line">    console.log(&#x27;After setting latestTotalPriceQuery to query&#x27;);</span><br><span class="line">    return query;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We thought the code could invalidate the late response that comes from the server, unfortunately, it can’t it still take the last response, which is invalid data, as the valid result.</p>
<h1 id="Log-Results"><a href="#Log-Results" class="headerlink" title="Log Results"></a>Log Results</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">3x Call calculate()</span><br><span class="line">Before setting latestTotalPriceQuery to null</span><br><span class="line">After setting latestTotalPriceQuery to null</span><br><span class="line">Before setting latestTotalPriceQuery to query</span><br><span class="line">After setting latestTotalPriceQuery to query</span><br><span class="line">Comparing</span><br><span class="line">Promise &#123; &lt;state&gt;: &quot;fulfilled&quot;, &lt;value&gt;: &#123;…&#125; &#125;</span><br><span class="line">Promise &#123; &lt;state&gt;: &quot;fulfilled&quot;, &lt;value&gt;: &#123;…&#125; &#125;</span><br></pre></td></tr></table></figure>
<p>This is the log result of the original code, we could see that the reason why the code doesn’t work is because the call chain doesn’t meet our expectations. For example, when we reduce the input from 123 to nothing by hitting the backspace nonstoppingly, the call chain is like </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3x calculate() -&gt; setting the latest query to be null -&gt; fetchWhatWeWant() -&gt; postJson() -&gt; return query and set latest query -&gt; recv response</span><br></pre></td></tr></table></figure>
<p>In our ideal design, we need the latestQuery to be sth. returned from fetchWhatWeWant(), and the nature of this debounce function forbids us to achieve this goal. In this case, the latestQuery, which aims to buffer the query, makes no effect at all.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-07-02T11:08:04.000Z" title="2018/7/2 19:08:04">2018-07-02</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming-Language/">Programming Language</a></span><span class="level-item">6 minutes read (About 868 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/07/02/Javascript%20Core/">Javascript Core(Draft)</a></h1><div class="content"><p>This article is based on <a target="_blank" rel="noopener" href="http://dmitrysoshnikov.com/ecmascript/javascript-the-core-2nd-edition/">Javascript Core</a>. </p>
<h1 id="Object-and-Prototype"><a href="#Object-and-Prototype" class="headerlink" title="Object and Prototype"></a>Object and Prototype</h1><p>Although js is known as “object-oriented” programming language, it is quite different from my understanding of OOP. Mostly because they didn’t actually teach OOP in college :D.<br>First concept to take in mind is:</p>
<ul>
<li>An object is a collection of properties, and has single prototype object. The prototype may be either an object or the null value. Every object when created, received its prototype, which is a delegation object used to implement prototypbe-based inheritance.</li>
</ul>
<p>Based on the previous experience with C++, I think of it as the base class at first. In other words, for a prototype chain:<code>A-&gt;B-&gt;Object.prototype-&gt;null</code>. <code>A</code> is inherited from <code>B</code> and <code>A</code> has a reference to it, which is the dunder proto(<strong>proto</strong>), and so on.</p>
<p>When a property is not found in the object, we’ll attempte to resolve it in the prototype. This mechanism is known as dynamic dispatch or delegation.</p>
<h1 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h1><p>The most astonishing part of that article comes next, which change my understanding of class. In js, class is more like a syntax sugar, consisting of a constructor function and prototype. The prototype is stored in the constructor function’s prototype property. Creating a prototype and sets the prototype for newly created objects is what class constructor does. You could go to that article and see the corresponding code, which will definitely enlighten you. </p>
<h1 id="Execution-Context"><a href="#Execution-Context" class="headerlink" title="Execution Context"></a>Execution Context</h1><p>Honestly, I still don’t know how to describe what context is. But there is something that I learnt from this article. The <code>yield</code> statement returns the value to the caller and pops the context while the <code>next</code> statement push the context onto stack and resume function.</p>
<h1 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h1><p>So every execution context has an associated lexical environment, which is a structure used to define association between identifiers in the context. In that case, an environment has variables, functions and classes defined in it. We could think of it as a pair, consisting of an environment record (an actual storage table which maps identifiers to values), and a reference to the parent (which can be null).</p>
<p>The keyword <code>var</code> and <code>with</code> would provide the object as binding objects(new concept, never heard of it LOL). The binding object of the global environment is the global object and equals to <code>this</code>.</p>
<p>Binding object can store a name which is not added to the environment record, since it’s not a valid identifier:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this[&#x27;not valid ID&#x27;] = 30;</span><br></pre></td></tr></table></figure>

<h1 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h1><p>First take a look at two definitions from the article:</p>
<ul>
<li>First-class function: a function which can participate as a normal data: be stored in a variable, passed as an argument, or returned as a value from another function.</li>
<li>Free variable: a variable which is neither a parameter, nor a local variable of this function.</li>
</ul>
<p>For the following code, the <code>x</code> is a free variable and the program would resolve its binding from the outer scope where the function was created instead of from the caller scope, from where the function is called(dynamic scoping). That’s why it is 10 intstead of 20. </p>
<p>To implement lexical scoping, we need to capture the environment where the function is created, so think of it as every function has a reference to the environment.</p>
<h1 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h1><p>If you took a loot at the last section, you can understand closure better</p>
<ul>
<li>Closure: A closure is a function which captures the environment where it’s defined. Further this environment is used for identifier resolution.</li>
</ul>
<h1 id="This"><a href="#This" class="headerlink" title="This"></a>This</h1><p>Unlike other variables that are static scoped, <code>this</code> value is dynamically scoped and it can not mutate. The purpose of it is to executed the same code for multiple objects(think about clss-based OOP). For example, we are unable to determine <code>this</code> value by looking at the following code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>But there is an exception, the arrow functions are special in terms of this value: their this is lexical (static). Holy shit, I can’t understand the example code from the article</p>
<h1 id="Realm"><a href="#Realm" class="headerlink" title="Realm"></a>Realm</h1><p>I have never heard of realm before, based on this article, before code is evalutated, all code must be associated with a realm, which provides a global environment for a context.</p>
<ul>
<li>Realm: A code realm is an object which encapsulates a separate global environment.</li>
</ul>
<h1 id="Job"><a href="#Job" class="headerlink" title="Job"></a>Job</h1><ul>
<li>Job: A job is an abstract operation that initiates an ECMAScript computation when no other ECMAScript computation is currently in progress.</li>
</ul>
<p>Jobs are enqueued on the job queues, and in current spec version there are two job queues: ScriptJobs, and PromiseJobs. </p>
<p>And initial job on the ScriptJobs queue is the main entry point to our program — initial script which is loaded and evaluated: a realm is created, a global context is created and is associated with this realm, it’s pushed onto the stack, and the global code is executed.</p>
<h1 id="Agent"><a href="#Agent" class="headerlink" title="Agent"></a>Agent</h1><ul>
<li>Agent: An agent is an abstraction encapsulating execution context stack, set of job queues, and code realms.</li>
</ul>
<p>The agents are state isolated from each other, and can communicate by sending messages. Some data can be shared though between agents, for example SharedArrayBuffers. Agents can also combine into agent clusters.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-06-26T11:08:04.000Z" title="2018/6/26 19:08:04">2018-06-26</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Operating-System/">Operating System</a></span><span class="level-item">a minute read (About 168 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/26/Deadlock/">Deadlock(Draft)</a></h1><div class="content"><h1 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h1><ul>
<li>Preemptable resource: one that can be taken away from the process owning it with no ill effects, such as memory</li>
<li>Non-preemptable resource: one that cannot be taken away from its current owner without potentially causing failure, such as Blu-ray recorder</li>
</ul>
<h1 id="Conditions-for-Reource-Deadlocks"><a href="#Conditions-for-Reource-Deadlocks" class="headerlink" title="Conditions for Reource Deadlocks"></a>Conditions for Reource Deadlocks</h1><ol>
<li>Mutual exclusion condition. Each resource is either currently assigned to exactly one process or is available.</li>
<li>Hold-and-wait condition. Processes currently holding resources that were granted earlier can request new resources.</li>
<li>No-preemption condition. Resources previously granted cannot be forcibly taken away from a process. They must be explicitly released by the process holding them</li>
<li>Circular wait condition. There must be a circular list of two or more processes, each of which is waiting for a resource held by the next member of the chain.</li>
</ol>
<h1 id="Recovery-from-Deadlock"><a href="#Recovery-from-Deadlock" class="headerlink" title="Recovery from Deadlock"></a>Recovery from Deadlock</h1><ul>
<li><p>Recovery through preemption: take a resource away from its current owner and give it to another process</p>
</li>
<li><p>Recovery through rollback: have processes checkpointed periodically</p>
</li>
<li><p>Recovery throuth killing processes: kill the current process</p>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-06-26T11:08:04.000Z" title="2018/6/26 19:08:04">2018-06-26</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Operating-System/">Operating System</a></span><span class="level-item">a minute read (About 181 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/26/Input%20and%20Output/">Input and Output(Draft)</a></h1><div class="content"><h1 id="I-x2F-O-Devices"><a href="#I-x2F-O-Devices" class="headerlink" title="I&#x2F;O Devices"></a>I&#x2F;O Devices</h1><ul>
<li>Block devices: stores information in fixed-size blocks, each one with its own address.</li>
<li>Character devices: delivers or accepts a stream of characters, without regard to any block structure.</li>
</ul>
<p>I&#x2F;O units often consist of a mechanical component and an electronic component. The electronic component is called the device controller or adapter. The mechanical component is the device itself.</p>
<p>Normally the controller would receive a serial bit stream starting with a preamble, then the 4096 bits in a sector, and finally a checksum, or ECC (Error-Correcting Code).</p>
<p>Its job is to convert the serial bit stream into a block of bytes and perform any error correction necessary.</p>
<h1 id="Communication-between-CPU-and-Control-Register"><a href="#Communication-between-CPU-and-Control-Register" class="headerlink" title="Communication between CPU and Control Register"></a>Communication between CPU and Control Register</h1><ul>
<li>Assign control register an I&#x2F;O port number</li>
<li>Memory-mapped I&#x2F;O, which is to map all control registers into memory space by assigning a unique memory address. With it, the I&#x2F;O device driver can be written entirely in C and no special protection mechanism is needed to keep user processes from performing I&#x2F;O. However, a device control register should not be cached.</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-06-20T11:08:04.000Z" title="2018/6/20 19:08:04">2018-06-20</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Operating-System/">Operating System</a></span><span class="level-item">2 minutes read (About 372 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/20/File%20System%20Implementation/">File System Implementation(Draft)</a></h1><div class="content"><h1 id="Layout"><a href="#Layout" class="headerlink" title="Layout"></a>Layout</h1><p>Most disks can be divided up into one or more partitions with independent file systems on each partition.</p>
<h1 id="Implementation-of-Files"><a href="#Implementation-of-Files" class="headerlink" title="Implementation of Files"></a>Implementation of Files</h1><ul>
<li>Contiguous Allocation</li>
<li>Linked-List Allocation</li>
<li>Linked-List Allocation Using a Table in Memory</li>
<li>I-node(index-node)</li>
</ul>
<h1 id="Implementation-of-Directories"><a href="#Implementation-of-Directories" class="headerlink" title="Implementation of Directories"></a>Implementation of Directories</h1><p>When we want to open a file, the OS uses the path name provided by users to locate the directory entry on the disk, which provides the information to find the disk blocks. In general, directories are served to map the ASCII name of the file onto some info which is necessary for finding the data.</p>
<h1 id="Shared-Files"><a href="#Shared-Files" class="headerlink" title="Shared Files"></a>Shared Files</h1><p>Let’s assume A has a file to share with B. If directories of B contains disk addresses, then a copy of the addresses will have to be made in B’s directory. If the file is appended, the new blocks appended will be listed only in the directory of the user doing the append.</p>
<p>There are two solutions to this problem: one is callled i-node(UNIX) or symbolic link.</p>
<h1 id="Log-Structure-File-Systems"><a href="#Log-Structure-File-Systems" class="headerlink" title="Log Structure File Systems"></a>Log Structure File Systems</h1><ul>
<li>Structure the whole disk as a log</li>
<li>Since i-nodes’ address can not simply be calculated, an i-node map is maintained.</li>
<li>All writes are initially buffered in<br>memory, and periodically all the buffered writes are written to the disk in a single segment, at the end of the log.</li>
<li>A cleaner thread that spends its time scanning the log circularly to compact it.</li>
<li>Like a circular buffer</li>
<li>Measurements given in the papers cited above show that LFS outperforms UNIX by an order of magnitude on small writes, while having a performance that is as good as or better than UNIX for reads and large writes.</li>
</ul>
<h1 id="Journaling-File-Systems"><a href="#Journaling-File-Systems" class="headerlink" title="Journaling File Systems"></a>Journaling File Systems</h1><p>The basic idea here is to keep a log of what the file system is going to do before it does it, so that if the system crashes before it can do its planned work, upon rebooting the system can look in the log to see what was going on at the time of the crash and finish the job.</p>
<h1 id="Virtual-File-System"><a href="#Virtual-File-System" class="headerlink" title="Virtual File System"></a>Virtual File System</h1><p>The virtual file system(VFS) has an upper interface to user processes and it is the well-known POSIX interface. Then comes the VFS interface</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-06-18T12:48:04.000Z" title="2018/6/18 20:48:04">2018-06-18</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Operating-System/">Operating System</a></span><span class="level-item">2 minutes read (About 310 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/18/File%20Systems/">File Systems(Draft)</a></h1><div class="content"><h1 id="Files"><a href="#Files" class="headerlink" title="Files"></a>Files</h1><h2 id="Inode"><a href="#Inode" class="headerlink" title="Inode"></a>Inode</h2><p>A data structure in a Unix-style file system which describes a filesystem object such as a file or a directory.(basic unit of meta data)</p>
<h2 id="File-System-Types"><a href="#File-System-Types" class="headerlink" title="File System Types"></a>File System Types</h2><p>There are several kinds of file systems, older versions of systems use FAT,while newer systems version like Windows 8 use NTFS</p>
<h2 id="File-Structure"><a href="#File-Structure" class="headerlink" title="File Structure"></a>File Structure</h2><p>There are three common structures for a file: byte sequence, record sequence and tree</p>
<h2 id="File-Types"><a href="#File-Types" class="headerlink" title="File Types"></a>File Types</h2><ul>
<li>Directories are actually system files for maintaining the structure of the whole file system. </li>
<li>Regular files contain user information and are generally either ASCII files or binary files. Normally, a binary file from early UNIX system consists of 5 sections: header, text, data, relocationi bits and symbol table. The header will start with a so-called magic number, which would identify the file as an executable file. Then comes the sizes of various pieces of the file and etc. Another example is archives, which I don’t know much about it.</li>
</ul>
<h2 id="File-Attributes"><a href="#File-Attributes" class="headerlink" title="File Attributes"></a>File Attributes</h2><p>aka metadata, password is also one of the attributes.</p>
<h2 id="File-Descriptors"><a href="#File-Descriptors" class="headerlink" title="File Descriptors"></a>File Descriptors</h2><p>small integers returned when a file is opened.</p>
<h1 id="Directories"><a href="#Directories" class="headerlink" title="Directories"></a>Directories</h1><p>directories are also known as folders and they are used to keep track of files.</p>
<h2 id="Absolute-Path"><a href="#Absolute-Path" class="headerlink" title="Absolute Path"></a>Absolute Path</h2><p>The first character of the path name is the separator(in UNIX, it is ‘&#x2F;‘)</p>
<h2 id="Relative-Path"><a href="#Relative-Path" class="headerlink" title="Relative Path"></a>Relative Path</h2><p>Used in conjunction with the concept of the working directory</p>
<h2 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h2><h3 id="Hard-Link"><a href="#Hard-Link" class="headerlink" title="Hard Link"></a>Hard Link</h3><p>Can’t cross disk boundaries but efficient. A technique that allows a file to appear in more than one directory. It would increment the counter in the file’s i-node (to keep track of the number of directory entries containing the<br>file)</p>
<h3 id="Symbolic-Link"><a href="#Symbolic-Link" class="headerlink" title="Symbolic Link"></a>Symbolic Link</h3><p>Can cross disk boundaries but less efficient. Instead of having two names point to the same internal data structure representing a file, a name can be created that points to a tiny file naming another file</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-06-18T12:48:04.000Z" title="2018/6/18 20:48:04">2018-06-18</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Operating-System/">Operating System</a></span><span class="level-item">a few seconds read (About 82 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/18/Segmentation/">Segmentation(Draft)</a></h1><div class="content"><h3 id="Why-Segmentation"><a href="#Why-Segmentation" class="headerlink" title="Why Segmentation"></a>Why Segmentation</h3><p>Consider a compiler as an example, it has several tables as compilation proceeds, such as the symbol table, the parse tree table, the stack used for procedure calls and etc.;If one of the table is exceptionally large, we would want it to be managed dynamically, in other words, a way of freeing the programmer from having to manage the expanding and contracting tables. That’s what segmentation is for.</p>
<h3 id="What-is-Segmentation"><a href="#What-is-Segmentation" class="headerlink" title="What is Segmentation"></a>What is Segmentation</h3><p>Segmentation is a linear sequence of addresses.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-06-13T04:59:44.000Z" title="2018/6/13 12:59:44">2018-06-13</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-12-28T15:12:47.000Z" title="2018/12/28 23:12:47">2018-12-28</time></span><span class="level-item"><a class="link-muted" href="/categories/Others/">Others</a></span><span class="level-item">a few seconds read (About 16 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/13/Monitoring%20System%20Tech%20Stack/">Monitoring System Tech Stack</a></h1><div class="content"><p>some logger<br>influxdb, grafana, kapacitor, pagerduty, kibana</p>
<h2 id="Tracing"><a href="#Tracing" class="headerlink" title="Tracing"></a>Tracing</h2><p>zipkin, stores traces in elasticsearch</p>
<h2 id="Probing"><a href="#Probing" class="headerlink" title="Probing"></a>Probing</h2><p>pokey, rigor</p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/">Previous</a></div><div class="pagination-next"><a href="/page/3/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link is-current" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li><li><a class="pagination-link" href="/page/4/">4</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="CXC"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">CXC</p><p class="is-size-6 is-block">cyborgnoob</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>SF</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">34</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">15</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">17</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Phantomape" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Phantomape"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Cloud-Computing/"><span class="level-start"><span class="level-item">Cloud Computing</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Deep-Learning/"><span class="level-start"><span class="level-item">Deep Learning</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Distributed-System/"><span class="level-start"><span class="level-item">Distributed System</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Frontend/"><span class="level-start"><span class="level-item">Frontend</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Intellisense/"><span class="level-start"><span class="level-item">Intellisense</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Mathemtatics/"><span class="level-start"><span class="level-item">Mathemtatics</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Maths/"><span class="level-start"><span class="level-item">Maths</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Operating-System/"><span class="level-start"><span class="level-item">Operating System</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Others/"><span class="level-start"><span class="level-item">Others</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming-Language/"><span class="level-start"><span class="level-item">Programming Language</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Regex/"><span class="level-start"><span class="level-item">Regex</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Robotics/"><span class="level-start"><span class="level-item">Robotics</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-02-12T10:04:16.743Z">2023-02-12</time></p><p class="title"><a href="/2023/02/12/README/"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-02-12T10:04:16.740Z">2023-02-12</time></p><p class="title"><a href="/2023/02/12/LeetCode-1/">Two Sum</a></p><p class="categories"><a href="/categories/Algorithm/">Algorithm</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-02-12T10:04:16.740Z">2023-02-12</time></p><p class="title"><a href="/2023/02/12/LeetCode-634-DerangementOfAnArray/">Derangement of An Array</a></p><p class="categories"><a href="/categories/Algorithm/">Algorithm</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-02-12T10:04:16.738Z">2023-02-12</time></p><p class="title"><a href="/2023/02/12/Kalman%20Filter%20I/">Kalman Filter I(Chinese)</a></p><p class="categories"><a href="/categories/Maths/">Maths</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-02-12T10:04:16.738Z">2023-02-12</time></p><p class="title"><a href="/2023/02/12/Kalman%20Filter%20II/">Kalman Filter II(Chinese)</a></p><p class="categories"><a href="/categories/Maths/">Maths</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/02/"><span class="level-start"><span class="level-item">February 2023</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">July 2018</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">June 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/05/"><span class="level-start"><span class="level-item">May 2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/09/"><span class="level-start"><span class="level-item">September 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/08/"><span class="level-start"><span class="level-item">August 2017</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cloud-Computing/"><span class="tag">Cloud Computing</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Deep-Learning/"><span class="tag">Deep Learning</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Distributed-System/"><span class="tag">Distributed System</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Intellisense/"><span class="tag">Intellisense</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Javascript/"><span class="tag">Javascript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Lazy-Loading/"><span class="tag">Lazy Loading</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mathematics/"><span class="tag">Mathematics</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Maths/"><span class="tag">Maths</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Network/"><span class="tag">Network</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OOP/"><span class="tag">OOP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Operating-System/"><span class="tag">Operating System</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Others/"><span class="tag">Others</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/React/"><span class="tag">React</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Regex/"><span class="tag">Regex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Robotics/"><span class="tag">Robotics</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a><p class="is-size-7"><span>&copy; 2023 Xucheng Chen</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>